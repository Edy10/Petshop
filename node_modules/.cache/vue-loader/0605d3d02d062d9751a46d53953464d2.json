{"remainingRequest":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edivaldosouzapaixao/Documents/vue/petshop/src/components/Recepcao.vue?vue&type=style&index=0&id=4438b434&lang=scss&scoped=true&","dependencies":[{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/src/components/Recepcao.vue","mtime":1619313579800},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edivaldosouzapaixao/Documents/vue/petshop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVycm97CiAgY29sb3I6IHJlZDsKfQo="},{"version":3,"sources":["Recepcao.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA","file":"Recepcao.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-form @submit.prevent=\"cadastrarCliente\">\n      <h1>Bem vindo ao Petshop</h1>\n      <v-spacer></v-spacer>\n      <v-text-field type=\"text\" label=\"Nome do Cliente:\" v-model=\"cliente.nome\"></v-text-field>\n      <v-select :items=\"racas\" item-text=\"nome\" v-model=\"cliente.raca\" label=\"Raça do Cáo:\"></v-select>\n      <v-text-field label=\"Idade:\" type=\"number\" v-model=\"cliente.idade\" :rules=\"[rules.idadeCanina]\" ></v-text-field>\n      <v-select label=\"Serviço:\" v-model=\"cliente.servico\" :items=\"servicos\" >\n        <template v-slot:selection=\"data\">{{data.item.nome}}</template>\n        <template v-slot:item=\"data\">{{data.item.nome}} ({{data.item.preco | grana}})</template>\n      </v-select>\n      <v-textarea label=\"Sintomas\" rows=\"3\" v-model=\"cliente.servico.observacao\" v-if=\"cliente.servico.tipo === 'consulta'\">\n      </v-textarea>\n    </v-form>\n    \n    <form @submit.prevent=\"cadastrarCliente\">\n      <button v-bind:disabled=\"cliente.idade > 15 || !cliente.nome || !cliente.raca || !cliente.idade || !cliente.servico.nome\">Cadastrar Cliente</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Cachorro from '@/models/cachorro';\nexport default {\n  data(){\n    return{\n      racas: [],\n      servicos: [],\n      cliente: new Cachorro(),\n      rules:{\n        idadeCanina: value => value < 15 || 'A idade informada não é válida'\n      }\n    }\n  },\n  async created(){\n    try {\n      this.racas = await this.buscarRacas();\n      this.servicos = await this.buscaServicos();\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  methods: {\n    //Executa a busca das raças dos cachorros na API\n    async buscarRacas() {\n      const {data} = await axios.get(\"http://localhost:3000/racas\");\n      return data;\n    },\n    //Executo a busca dos serviços na API\n    async buscaServicos() {\n      const {data} = await axios.get(\"http://localhost:3000/servicos\");\n      return data;\n    },\n    //Funçáo que executa o cadastrar o cliente.\n    cadastrarCliente(){\n      //Emite um evento passando para o componente pai.\n      this.$emit('novo-cadastro', this.cliente)\n      this.cliente = new Cachorro();\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .erro{\n    color: red;\n  }\n</style>"]}]}